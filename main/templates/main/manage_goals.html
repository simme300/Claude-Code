{% extends 'base.html' %}

{% block title %}Manage Goals - Claude Code{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h1>Your Goals</h1>
        <p class="subtitle">Manage and track your fitness goals</p>
        <div class="page-actions">
            <a href="{% url 'main:add_goal' %}" class="btn btn-primary">Add New Goal</a>
            <a href="{% url 'main:homepage' %}" class="btn btn-outline">Back to Homepage</a>
        </div>
    </div>
    
    {% if goals %}
        <div class="goals-grid">
            {% for goal in goals %}
            <div class="goal-card {% if goal.is_completed %}completed{% endif %}">
                <div class="goal-header">
                    <h3>{{ goal.title }}</h3>
                    <div class="goal-badges">
                        <span class="goal-type-badge">{{ goal.get_goal_type_display }}</span>
                        {% if goal.is_completed %}
                            <span class="status-badge completed">Completed</span>
                        {% else %}
                            <span class="status-badge active">Active</span>
                        {% endif %}
                    </div>
                </div>
                
                {% if goal.description %}
                <p class="goal-description">{{ goal.description }}</p>
                {% endif %}
                
                <div class="goal-details">
                    {% if goal.target_value and goal.unit %}
                    <div class="detail-item">
                        <strong>Target:</strong> {{ goal.target_value }} {{ goal.get_unit_display }}
                    </div>
                    {% endif %}
                    
                    {% if goal.target_date %}
                    <div class="detail-item">
                        <strong>Target Date:</strong> {{ goal.target_date|date:"M d, Y" }}
                    </div>
                    {% endif %}
                    
                    {% if goal.is_completed and goal.completed_date %}
                    <div class="detail-item">
                        <strong>Completed:</strong> {{ goal.completed_date|date:"M d, Y" }}
                    </div>
                    {% endif %}
                    
                    <div class="detail-item">
                        <strong>Created:</strong> {{ goal.created_at|date:"M d, Y" }}
                    </div>
                </div>
                
                <div class="goal-actions">
                    <a href="{% url 'main:toggle_goal_completion' goal.id %}" class="btn btn-sm {% if goal.is_completed %}btn-outline{% else %}btn-success{% endif %}">
                        {% if goal.is_completed %}Mark Incomplete{% else %}Mark Complete{% endif %}
                    </a>
                    <a href="{% url 'main:edit_goal' goal.id %}" class="btn btn-sm btn-outline">Edit</a>
                    <a href="{% url 'main:delete_goal' goal.id %}" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure you want to delete this goal?')">Delete</a>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <h3>No Goals Yet</h3>
            <p>You haven't set any goals yet. Start by creating your first fitness goal!</p>
            <a href="{% url 'main:add_goal' %}" class="btn btn-primary">Create Your First Goal</a>
        </div>
    {% endif %}
</div>
{% endblock %}